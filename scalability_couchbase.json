{
    "Description": "Couchbase Servers",
    "Parameters": {
        "KeyNameParameter": {
            "Description": "KeyName",
            "Type": "AWS::EC2::KeyPair::KeyName"
        },
        "SecurityGroupIdParameter": {
            "Description": "SecurityGroupId",
            "Type": "AWS::EC2::SecurityGroup::Id"
        },
        "SubnetIdParameter": {
            "Description": "SubnetId",
            "Type": "AWS::EC2::Subnet::Id"
        }
    },
    "Resources": {
        "clients0": {
            "Properties": {
                "AvailabilityZone": "us-east-1a",
                "ImageId": "ami-xxxxxxxx",
                "InstanceType": "c3.xlarge",
                "KeyName": {
                    "Ref": "KeyNameParameter"
                },
                "SecurityGroupIds": [
                    {
                        "Ref": "SecurityGroupIdParameter"
                    }
                ],
                "SubnetId": {
                    "Ref": "SubnetIdParameter"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "clients0"
                    },
                    {
                        "Key": "Type",
                        "Value": "clients"
                    }
                ]
            },
            "Type": "AWS::EC2::Instance"
        },
        "clients1": {
            "Properties": {
                "AvailabilityZone": "us-east-1a",
                "ImageId": "ami-xxxxxxxx",
                "InstanceType": "c3.xlarge",
                "KeyName": {
                    "Ref": "KeyNameParameter"
                },
                "SecurityGroupIds": [
                    {
                        "Ref": "SecurityGroupIdParameter"
                    }
                ],
                "SubnetId": {
                    "Ref": "SubnetIdParameter"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "clients1"
                    },
                    {
                        "Key": "Type",
                        "Value": "clients"
                    }
                ]
            },
            "Type": "AWS::EC2::Instance"
        },
        "couchbaseserverdata0": {
            "Properties": {
                "AvailabilityZone": "us-east-1a",
                "ImageId": "ami-yyyyyyyy",
                "InstanceType": "r3.4xlarge",
                "KeyName": {
                    "Ref": "KeyNameParameter"
                },
                "SecurityGroupIds": [
                    {
                        "Ref": "SecurityGroupIdParameter"
                    }
                ],
                "SubnetId": {
                    "Ref": "SubnetIdParameter"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "couchbaseserverdata0"
                    },
                    {
                        "Key": "Type",
                        "Value": "couchbaseserver_data"
                    }
                ]
            },
            "Type": "AWS::EC2::Instance"
        },
        "couchbaseserverdata1": {
            "Properties": {
                "AvailabilityZone": "us-east-1a",
                "ImageId": "ami-yyyyyyyy",
                "InstanceType": "r3.4xlarge",
                "KeyName": {
                    "Ref": "KeyNameParameter"
                },
                "SecurityGroupIds": [
                    {
                        "Ref": "SecurityGroupIdParameter"
                    }
                ],
                "SubnetId": {
                    "Ref": "SubnetIdParameter"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "couchbaseserverdata1"
                    },
                    {
                        "Key": "Type",
                        "Value": "couchbaseserver_data"
                    }
                ]
            },
            "Type": "AWS::EC2::Instance"
        },
        "couchbaseserverdata2": {
            "Properties": {
                "AvailabilityZone": "us-east-1a",
                "ImageId": "ami-yyyyyyyy",
                "InstanceType": "r3.4xlarge",
                "KeyName": {
                    "Ref": "KeyNameParameter"
                },
                "SecurityGroupIds": [
                    {
                        "Ref": "SecurityGroupIdParameter"
                    }
                ],
                "SubnetId": {
                    "Ref": "SubnetIdParameter"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "couchbaseserverdata2"
                    },
                    {
                        "Key": "Type",
                        "Value": "couchbaseserver_data"
                    }
                ]
            },
            "Type": "AWS::EC2::Instance"
        },
        "couchbaseserverdata3": {
            "Properties": {
                "AvailabilityZone": "us-east-1a",
                "ImageId": "ami-yyyyyyyy",
                "InstanceType": "r3.4xlarge",
                "KeyName": {
                    "Ref": "KeyNameParameter"
                },
                "SecurityGroupIds": [
                    {
                        "Ref": "SecurityGroupIdParameter"
                    }
                ],
                "SubnetId": {
                    "Ref": "SubnetIdParameter"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "couchbaseserverdata3"
                    },
                    {
                        "Key": "Type",
                        "Value": "couchbaseserver_data"
                    }
                ]
            },
            "Type": "AWS::EC2::Instance"
        },
        "couchbaseserverindex0": {
            "Properties": {
                "AvailabilityZone": "us-east-1a",
                "ImageId": "ami-yyyyyyyy",
                "InstanceType": "r3.4xlarge",
                "KeyName": {
                    "Ref": "KeyNameParameter"
                },
                "SecurityGroupIds": [
                    {
                        "Ref": "SecurityGroupIdParameter"
                    }
                ],
                "SubnetId": {
                    "Ref": "SubnetIdParameter"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "couchbaseserverindex0"
                    },
                    {
                        "Key": "Type",
                        "Value": "couchbaseserver_index"
                    }
                ]
            },
            "Type": "AWS::EC2::Instance"
        },
        "couchbaseserverquery0": {
            "Properties": {
                "AvailabilityZone": "us-east-1a",
                "ImageId": "ami-yyyyyyyy",
                "InstanceType": "r3.4xlarge",
                "KeyName": {
                    "Ref": "KeyNameParameter"
                },
                "SecurityGroupIds": [
                    {
                        "Ref": "SecurityGroupIdParameter"
                    }
                ],
                "SubnetId": {
                    "Ref": "SubnetIdParameter"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "couchbaseserverquery0"
                    },
                    {
                        "Key": "Type",
                        "Value": "couchbaseserver_query"
                    }
                ]
            },
            "Type": "AWS::EC2::Instance"
        }
    }
}
